{% extends "telemeta/base.html" %}
{% load i18n %}

{% block extra_stylesheets %}
{% endblock %}


{% block content %}
<div id="module-set" style="width: 33%">
    {% block module_searches %}
    {% with searches as searches and "My searches" as title %}
    {% include "telemeta/inc/module_searches.html" %}
    {% endwith %}
    {% endblock %}

    {% block module_all_revisions %}
    {% with revisions as revisions and "All last changes" as title %}
    {% include "telemeta/inc/module_revisions.html" %}
    {% endwith %}
    {% endblock %}
</div>

<div class="home-description">
<h1><img src="{% url telemeta-images "playlist_title.png" %}" alt="playlists" style="vertical-align:middle" /> {% trans "My courses" %}</h1>

    <div>
    {% block courses %}
        <div style="float: left; width: 25%;">
        <ul>
        {% for course in object_list %}
            <li><a href="{% url teleforma-course-detail course.id %}">{{ course.title }}</a></li>
        {% endfor %}
        </ul>
    {% endblock courses %}
    </div>

    <div style="float: left;">
    {% block course %}
    {% for course in object_list %}
    
        <table class="listing" style="width:100%;margin-top: 1em">
            <tr>
            <td style="border-bottom:1px solid #6A0307;color:#6A0307;font-size: 120%">{{ course.title }}{% if course.description %} - {{ course.description }}{% endif %}</td>
            <td colspan="2" style="border-bottom:1px solid #6A0307;color:#6A0307;font-size: 80%; text-align:right"></td>
            </tr>
        </table>

        <h2>{% trans "Documents"%}</h2>
        <table class="listing" width="100%">
            <tr>
            <th class="highlight">{% trans "Title" %}</th>
            <th>{% trans "Description" %}</th>
            <th>{% trans "Date added" %}</th>
            </tr>
        {% for document in course.document.all %}
            <tr {% if not forloop.counter0|divisibleby:"2" %}class="odd"{% endif %}>
            <td>{{ document.title }}</td>
            <td>{{ document.description }}</td>
            <td>{{ document.date_added }}</td>
            </tr>
        {% endfor %}
        </table>

    <h2>{% trans "Medias"%}</h2>
    <table class="listing" width="100%">
        <tr>
        <th class="highlight">{% trans "Title" %}</th>
        <th>{% trans "Description" %}</th>
        <th>{% trans "Date added" %}</th>
        </tr>
        {% for media in course.media.all %}
            <tr {% if not forloop.counter0|divisibleby:"2" %}class="odd"{% endif %}>
            <td><a href="{% url telemeta-item-detail media.item.public_id %}">{{ media.item.title }}</a></td>
            <td>{{ media.item.description }}</td>
            <td>{{ media.date_added }}</td>
            </tr>
        {% endfor %}
    </table>


    <h2>{% trans "Conferences"%}</h2>
    <table class="listing" width="100%">
        <tr>
        <th class="highlight">{% trans "Session" %}</th>
        <th>{% trans "Professor" %}</th>
        <th>{% trans "Date added" %}</th>
        </tr>
        {% for conference in course.conference.all %}
            <tr {% if not forloop.counter0|divisibleby:"2" %}class="odd"{% endif %}>
            <td>{{ conference.session }}</td>
            <td>{{ conference.professor.user.first_name }} {{ conference.professor.user.last_name }}</td>
            <td>{{ conference.date_begin }}</td>
            </tr>
        {% endfor %}
    </table>

    {% endfor %}
    {% endblock course %}

    </div>

</div>


</div>
{% endblock %}


